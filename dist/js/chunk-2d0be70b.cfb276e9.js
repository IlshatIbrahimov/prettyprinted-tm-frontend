(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0be70b"],{"2fef":function(e,r,a){"use strict";a.r(r);var t=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("b-container",{staticClass:"auth"},[a("div",{staticClass:"auth__wrapper"},[e.isActiveForm("login")?a("Login",{attrs:{error:e.error},on:{formHandler:e.formHandler,loginHandler:e.loginHandler}}):e._e(),e.isActiveForm("register")?a("Register",{attrs:{errorEmail:e.errorEmail},on:{formHandler:e.formHandler,registerHandler:e.registerHandler}}):e._e()],1)])},s=[],i=(a("b0c0"),a("96cf"),a("1da1")),n=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("b-form",{on:{submit:function(r){return r.stopPropagation(),r.preventDefault(),e.onSubmit(r)}}},[a("h1",{staticClass:"auth__title"},[e._v("Sign In")]),a("b-form-group",{attrs:{label:"Email","label-for":"email","label-class":"auth__label"}},[a("b-form-input",{attrs:{id:"email",name:"email",state:e.validateState("email")},model:{value:e.$v.user.email.$model,callback:function(r){e.$set(e.$v.user.email,"$model",r)},expression:"$v.user.email.$model"}}),this.$v.user["email"].required?this.$v.user["email"].email?e._e():a("b-form-invalid-feedback",{attrs:{id:"input-email"}},[e._v("Invalid email. ")]):a("b-form-invalid-feedback",{attrs:{id:"input-email"}},[e._v("This field will be required! ")])],1),a("b-form-group",{attrs:{label:"Password","label-for":"password","label-class":"auth__label"}},[a("b-form-input",{attrs:{id:"password",name:"password",type:"password",state:e.validateState("password")},model:{value:e.$v.user.password.$model,callback:function(r){e.$set(e.$v.user.password,"$model",r)},expression:"$v.user.password.$model"}}),this.$v.user["password"].required?e._e():a("b-form-invalid-feedback",{attrs:{id:"input-password"}},[e._v("This field will be required! ")])],1),e.error?a("div",{staticClass:"auth__invalid"},[a("p",[e._v("Wrong credentials "),a("br"),e._v(" Invalid username or password")])]):e._e(),a("div",{staticClass:"auth__footer"},[a("b-button",{staticClass:"auth__btn",attrs:{type:"submit"}},[e._v("Log In")]),a("span",{staticClass:"auth__switch",on:{click:function(r){return e.formHandler("login")}}},[e._v("Register")])],1)],1)},o=[],l=a("1dce"),u=a("b5ae"),m={name:"Auth-Login",mixins:[l["validationMixin"]],data:function(){return{user:{email:"",password:""}}},props:{error:{type:Boolean,default:!1}},validations:{user:{email:{email:u["email"],required:u["required"]},password:{required:u["required"]}}},methods:{formHandler:function(e){this.$emit("formHandler",e)},validateState:function(e){var r=this.$v.user[e],a=r.$dirty,t=r.$error;return a?!t:null},onSubmit:function(){var e=this;this.$v.user.$touch(),this.$v.user.$anyError||(this.$emit("loginHandler",this.user),this.user={email:"",password:""},this.$nextTick((function(){e.$v.$reset()})))}}},d=m,c=a("2877"),f=Object(c["a"])(d,n,o,!1,null,null,null),v=f.exports,b=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("b-form",{on:{submit:function(r){return r.stopPropagation(),r.preventDefault(),e.onSubmit(r)}}},[a("h1",{staticClass:"auth__title"},[e._v("Sign Up")]),e.errorEmail?a("div",{staticClass:"auth__invalid"},[a("p",[e._v("This email address already registered!")])]):e._e(),a("b-form-group",{attrs:{label:"Name","label-for":"name","label-class":"auth__label"}},[a("b-form-input",{attrs:{id:"name",name:"name",state:e.validateState("name")},model:{value:e.$v.user.name.$model,callback:function(r){e.$set(e.$v.user.name,"$model",r)},expression:"$v.user.name.$model"}}),this.$v.user["name"].required?this.$v.user["name"].maxLength?e._e():a("b-form-invalid-feedback",{attrs:{id:"input-name"}},[e._v("The name must be at most 30 characters long. ")]):a("b-form-invalid-feedback",{attrs:{id:"input-name"}},[e._v("This field will be required! ")])],1),a("b-form-group",{attrs:{label:"Surname","label-for":"surname","label-class":"auth__label"}},[a("b-form-input",{attrs:{id:"surname",name:"surname",state:e.validateState("surname")},model:{value:e.$v.user.surname.$model,callback:function(r){e.$set(e.$v.user.surname,"$model",r)},expression:"$v.user.surname.$model"}}),this.$v.user["surname"].required?this.$v.user["surname"].maxLength?e._e():a("b-form-invalid-feedback",{attrs:{id:"input-email"}},[e._v("The surname must be at most 30 characters long. ")]):a("b-form-invalid-feedback",{attrs:{id:"input-surname"}},[e._v("This field will be required! ")])],1),a("b-form-group",{attrs:{label:"Email","label-for":"email","label-class":"auth__label"}},[a("b-form-input",{attrs:{id:"email",name:"email",state:e.validateState("email")},model:{value:e.$v.user.email.$model,callback:function(r){e.$set(e.$v.user.email,"$model",r)},expression:"$v.user.email.$model"}}),this.$v.user["email"].required?this.$v.user["email"].email?e._e():a("b-form-invalid-feedback",{attrs:{id:"input-email"}},[e._v("Invalid email. ")]):a("b-form-invalid-feedback",{attrs:{id:"input-email"}},[e._v("This field will be required. ")])],1),a("b-form-group",{attrs:{label:"Password","label-for":"password","label-class":"auth__label"}},[a("b-form-input",{attrs:{id:"password",name:"password",type:"password",state:e.validateState("password")},model:{value:e.$v.user.password.$model,callback:function(r){e.$set(e.$v.user.password,"$model",r)},expression:"$v.user.password.$model"}}),this.$v.user["password"].required?this.$v.user["password"].minLength?this.$v.user["password"].maxLength?e._e():a("b-form-invalid-feedback",{attrs:{id:"input-password"}},[e._v("The password must be at most 30 characters long. ")]):a("b-form-invalid-feedback",{attrs:{id:"input-password"}},[e._v("The password must be at least 8 characters long. ")]):a("b-form-invalid-feedback",{attrs:{id:"input-password"}},[e._v("This field will be required! ")])],1),a("b-form-group",{attrs:{label:"Confirm password","label-for":"confirm-password","label-class":"auth__label"}},[a("b-form-input",{attrs:{id:"confirm-password",name:"confirm-password",type:"password",state:e.validateState("confirmPassword")},model:{value:e.$v.user.confirmPassword.$model,callback:function(r){e.$set(e.$v.user.confirmPassword,"$model",r)},expression:"$v.user.confirmPassword.$model"}}),this.$v.user.confirmPassword.equalPassword?e._e():a("b-form-invalid-feedback",{attrs:{id:"input-confirm-password"}},[e._v("Those passwords didn`t match. Try again. ")]),this.$v.user["confirmPassword"].required?this.$v.user["confirmPassword"].minLength?e._e():a("b-form-invalid-feedback",{attrs:{id:"input-confirm-password"}},[e._v("The password must be at least 8 characters long. ")]):a("b-form-invalid-feedback",{attrs:{id:"input-confirm-password"}},[e._v("This field will be required. ")])],1),a("div",{staticClass:"auth__footer"},[a("b-button",{staticClass:"auth__btn",attrs:{type:"submit"}},[e._v("Register ")]),a("span",{staticClass:"auth__switch",on:{click:function(r){return e.formHandler("register")}}},[e._v("Log In")])],1)],1)},p=[],h=function(e,r){return e===r.password},$={name:"Auth-Register",mixins:[l["validationMixin"]],data:function(){return{user:{name:"",surname:"",email:"",password:"",confirmPassword:null}}},props:{errorEmail:{type:Boolean,default:!1}},validations:{user:{name:{maxLength:Object(u["maxLength"])(30),required:u["required"]},surname:{maxLength:Object(u["maxLength"])(30),required:u["required"]},email:{email:u["email"],required:u["required"]},password:{minLength:Object(u["minLength"])(8),maxLength:Object(u["maxLength"])(50),required:u["required"]},confirmPassword:{required:u["required"],minLength:Object(u["minLength"])(8),equalPassword:h}}},methods:{formHandler:function(e){this.$emit("formHandler",e)},validateState:function(e){var r=this.$v.user[e],a=r.$dirty,t=r.$error;return a?!t:null},onSubmit:function(){var e=this;this.$v.user.$touch(),this.$v.user.$anyError||(this.$emit("registerHandler",{name:this.user.name,surname:this.user.surname,email:this.user.email,password:this.user.password}),this.user={name:"",surname:"",email:"",password:"",confirmPassword:null},this.$nextTick((function(){e.$v.$reset()})))}}},w=$,g=Object(c["a"])(w,b,p,!1,null,null,null),_=g.exports,k=a("d4ec"),q=a("bee2"),x=a("bc3a"),S=a.n(x),L=a("ba59"),T=S.a.create({baseURL:L["a"].url,headers:{"Content-type":"application/json","Access-Control-Allow-Origin":L["a"].url,"Access-Control-Allow-Methods":"GET,PUT,POST,DELETE"}}),H=function(){function e(){Object(k["a"])(this,e)}return Object(q["a"])(e,[{key:"login",value:function(e){return T.post("/auth",e)}},{key:"register",value:function(e){return T.post("/register",e)}}]),e}(),y=new H,E={name:"Auth",data:function(){return{activeForm:"login",error:!1,errorEmail:!1}},components:{Login:v,Register:_},methods:{formHandler:function(e){this.activeForm="login"===e?"register":"login"},isActiveForm:function(e){return e===this.activeForm},loginHandler:function(e){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,y.login(e).then((function(e){localStorage.setItem("jwt",JSON.stringify(e.data.jwt)),localStorage.setItem("name",e.data.user.name),localStorage.setItem("surname",e.data.user.surname),200===e.status&&(r.error=!1,r.$router.push("/"))})).catch((function(e){401===e.response.status&&(r.error=!0)}));case 2:case"end":return a.stop()}}),a)})))()},registerHandler:function(e){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,y.register(e).then((function(e){localStorage.setItem("jwt",JSON.stringify(e.data.jwt)),localStorage.setItem("name",e.data.user.name),localStorage.setItem("surname",e.data.user.surname),200===e.status&&(r.errorEmail=!1,r.$router.push("/"))})).catch((function(e){422===e.response.status&&(r.errorEmail=!0)}));case 2:case"end":return a.stop()}}),a)})))()}}},P=E,j=Object(c["a"])(P,t,s,!1,null,null,null);r["default"]=j.exports}}]);
//# sourceMappingURL=chunk-2d0be70b.cfb276e9.js.map